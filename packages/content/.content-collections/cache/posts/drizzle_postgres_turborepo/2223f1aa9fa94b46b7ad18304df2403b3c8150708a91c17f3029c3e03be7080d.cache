{"title":"Drizzle ORM + PostgreSQL in a Turborepo","description":"Type-safe queries, fast DX, and shared types across packages.","icon":"Database","cover":"https://images.unsplash.com/photo-1498050108023-c5249f4df085?q=80&w=1600&auto=format&fit=crop","author":"winston","content":"<Callout type=\"note\">\nMonorepos shine when database types are shared between API and UI packages.\n</Callout>\n\n## Setup outline\n\n- Define schema in a `packages/db` workspace using Drizzle.\n- Generate types and export a `createDb` factory.\n- Consume from `packages/api` and keep Zod/ArkType schemas in sync.\n\n## Migrations\n\nUse Drizzle Kit to generate and apply migrations, and wire scripts via your root workspace.\n\n## References\n\n<Cards>\n  <Card title=\"Drizzle ORM\" href=\"https://orm.drizzle.team\">\n    Lightweight TypeScript ORM with first-class SQL.\n  </Card>\n  <Card title=\"PostgreSQL Docs\" href=\"https://www.postgresql.org/docs/\">\n    Official PostgreSQL documentation and guides.\n  </Card>\n  <Card title=\"Turborepo Handbook\" href=\"https://turbo.build/repo/docs\">\n    Patterns for multi-package, cached builds.\n  </Card>\n</Cards>","tags":[],"_meta":{"filePath":"drizzle-postgres-turborepo.mdx","fileName":"drizzle-postgres-turborepo.mdx","directory":".","extension":"mdx","path":"drizzle-postgres-turborepo"},"toc":[{"title":"Setup outline","url":"#setup-outline","depth":2},{"title":"Migrations","url":"#migrations","depth":2},{"title":"References","url":"#references","depth":2}],"structuredData":{"contents":[{"content":"type: note"},{"content":"Monorepos shine when database types are shared between API and UI packages."},{"heading":"setup-outline","content":"Define schema in a packages/db workspace using Drizzle."},{"heading":"setup-outline","content":"Generate types and export a createDb factory."},{"heading":"setup-outline","content":"Consume from packages/api and keep Zod/ArkType schemas in sync."},{"heading":"migrations","content":"Use Drizzle Kit to generate and apply migrations, and wire scripts via your root workspace."},{"heading":"references","content":"Lightweight TypeScript ORM with first-class SQL."},{"heading":"references","content":"Official PostgreSQL documentation and guides."},{"heading":"references","content":"Patterns for multi-package, cached builds."}],"headings":[{"id":"setup-outline","content":"Setup outline"},{"id":"migrations","content":"Migrations"},{"id":"references","content":"References"}]},"body":"var Component=(()=>{var u=Object.create;var c=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var y=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),b=(r,e)=>{for(var t in e)c(r,t,{get:e[t],enumerable:!0})},d=(r,e,t,o)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let i of m(e))!w.call(r,i)&&i!==t&&c(r,i,{get:()=>e[i],enumerable:!(o=f(e,i))||o.enumerable});return r};var x=(r,e,t)=>(t=r!=null?u(g(r)):{},d(e||!r||!r.__esModule?c(t,\"default\",{value:r,enumerable:!0}):t,r)),k=r=>d(c({},\"__esModule\",{value:!0}),r);var l=y((D,a)=>{a.exports=_jsx_runtime});var C={};b(C,{default:()=>p});var n=x(l());function h(r){let e={code:\"code\",h2:\"h2\",li:\"li\",p:\"p\",ul:\"ul\",...r.components},{Callout:t,Card:o,Cards:i}=e;return t||s(\"Callout\",!0),o||s(\"Card\",!0),i||s(\"Cards\",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t,{type:\"note\",children:(0,n.jsx)(e.p,{children:\"Monorepos shine when database types are shared between API and UI packages.\"})}),`\n`,(0,n.jsx)(e.h2,{id:\"setup-outline\",children:\"Setup outline\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"Define schema in a \",(0,n.jsx)(e.code,{children:\"packages/db\"}),\" workspace using Drizzle.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"Generate types and export a \",(0,n.jsx)(e.code,{children:\"createDb\"}),\" factory.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"Consume from \",(0,n.jsx)(e.code,{children:\"packages/api\"}),\" and keep Zod/ArkType schemas in sync.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{id:\"migrations\",children:\"Migrations\"}),`\n`,(0,n.jsx)(e.p,{children:\"Use Drizzle Kit to generate and apply migrations, and wire scripts via your root workspace.\"}),`\n`,(0,n.jsx)(e.h2,{id:\"references\",children:\"References\"}),`\n`,(0,n.jsxs)(i,{children:[(0,n.jsx)(o,{title:\"Drizzle ORM\",href:\"https://orm.drizzle.team\",children:(0,n.jsx)(e.p,{children:\"Lightweight TypeScript ORM with first-class SQL.\"})}),(0,n.jsx)(o,{title:\"PostgreSQL Docs\",href:\"https://www.postgresql.org/docs/\",children:(0,n.jsx)(e.p,{children:\"Official PostgreSQL documentation and guides.\"})}),(0,n.jsx)(o,{title:\"Turborepo Handbook\",href:\"https://turbo.build/repo/docs\",children:(0,n.jsx)(e.p,{children:\"Patterns for multi-package, cached builds.\"})})]})]})}function p(r={}){let{wrapper:e}=r.components||{};return e?(0,n.jsx)(e,{...r,children:(0,n.jsx)(h,{...r})}):h(r)}function s(r,e){throw new Error(\"Expected \"+(e?\"component\":\"object\")+\" `\"+r+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return k(C);})();\n;return Component;"}